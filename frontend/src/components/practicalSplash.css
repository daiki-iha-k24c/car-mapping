/* ===== 基本 ===== */
.ps-root{
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: #fff;
  overflow: hidden;
  display: grid;
  place-items: center;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Helvetica Neue", Arial;
}

/* 参考デザインの核：円が広がって画面を覆う */
.ps-splash{
  position: fixed;
  left: 50%;
  top: 88%;
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: #039be5;
  transform: translate(-50%,-50%);
  animation: psPuff 900ms 400ms cubic-bezier(0.55,0.055,0.675,0.19) forwards;
}

/* 円→ヘッダー(板)へ変形する“モーフ” */
.ps-morph{
  position: fixed;
  left: 50%;
  top: 50%;
  width: 56px;
  height: 56px;
  border-radius: 999px;
  background: #039be5;
  transform: translate(-50%,-50%);
  opacity: 0;
  animation:
    psInit 420ms 0ms cubic-bezier(0.55,0.055,0.675,0.19) forwards,
    psDown 700ms 520ms cubic-bezier(0.6,-0.28,0.735,0.045) forwards,
    psUp 820ms 1180ms cubic-bezier(0.175,0.885,0.32,1.275) forwards,
    psHeader 520ms 2050ms cubic-bezier(0.86,0,0.07,1) forwards,
    psHide 380ms 3300ms ease forwards;
}

/* UI（骨組み） */
.ps-ui{
  position: relative;
  width: min(780px, 92vw);
  height: min(560px, 84vh);
  opacity: 0;
  transform: translateY(6px);
  animation: psUiIn 520ms 2550ms ease forwards;
}

.ps-topbar{
  height: 56px;
  border-radius: 16px;
  background: rgba(255,255,255,0.14);
  border: 1px solid rgba(255,255,255,0.22);
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 0 14px;
  color: rgba(255,255,255,0.92);
  backdrop-filter: blur(8px);
}

.ps-logoDot{
  width: 10px; height: 10px; border-radius: 999px;
  background: #fff;
  opacity: 0.9;
}

.ps-title{ font-weight: 900; letter-spacing: .4px; }
.ps-pill{
  margin-left: auto;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.18);
  border: 1px solid rgba(255,255,255,0.20);
}

.ps-content{
  margin-top: 14px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.ps-card{
  border-radius: 18px;
  background: rgba(255,255,255,0.12);
  border: 1px solid rgba(255,255,255,0.20);
  padding: 14px;
  backdrop-filter: blur(8px);
  overflow: hidden;
}

.ps-row{ display:flex; gap:8px; margin-bottom: 12px; }
.ps-chip{
  width: 56px; height: 20px; border-radius: 999px;
  background: rgba(255,255,255,0.18);
}

.ps-skelLine{
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.18);
  margin-top: 10px;
}
.w80{ width: 80%; }
.w70{ width: 70%; }
.w60{ width: 60%; }
.w50{ width: 50%; }
.w40{ width: 40%; }

.ps-mapStub{
  position: relative;
  height: 160px;
  border-radius: 16px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.16);
  margin-bottom: 12px;
}

.ps-pin{
  position:absolute;
  left: 22%;
  top: 38%;
  width: 10px; height: 10px; border-radius: 999px;
  background: rgba(255,255,255,0.90);
  box-shadow: 0 14px 30px rgba(0,0,0,0.25);
  animation: psPin 900ms 2850ms ease-in-out infinite;
}
.ps-pin.p2{ left: 52%; top: 55%; animation-delay: 3.05s; }
.ps-pin.p3{ left: 70%; top: 30%; animation-delay: 3.25s; }

.ps-hint{
  position: fixed;
  bottom: 10vh;
  color: rgba(0,0,0,0.45);
  font-size: 13px;
  letter-spacing: .3px;
  opacity: 1;
  animation: psHintFade 520ms 2550ms ease forwards;
}

/* ===== アニメ（参考デザインっぽい流れ） ===== */
@keyframes psInit{
  from{ opacity:0; transform: translate(-50%,-50%) scale(0.1); }
  to  { opacity:1; transform: translate(-50%,-50%) scale(1); }
}
@keyframes psPuff{
  from{ width:12px; height:12px; }
  to  { width: 220vmax; height: 220vmax; }
}
@keyframes psDown{
  from{ top:50%; }
  to  { top: 105%; }
}
@keyframes psUp{
  from{ top:105%; }
  to  { top: 44px; }
}
@keyframes psHeader{
  to{
    width: 100%;
    height: 56px;
    border-radius: 0px;
    left: 50%;
    transform: translate(-50%,0);
    top: 0;
    background: #039be5;
  }
}
@keyframes psUiIn{
  to{ opacity:1; transform: translateY(0); }
}
@keyframes psHide{
  to{ opacity:0; }
}
@keyframes psHintFade{
  to{ opacity:0; }
}
@keyframes psPin{
  0%,100%{ transform: translateY(0); opacity: .85; }
  50%{ transform: translateY(-10px); opacity: 1; }
}

@media (prefers-reduced-motion: reduce){
  .ps-splash,.ps-morph,.ps-ui,.ps-pin{ animation: none !important; }
}
